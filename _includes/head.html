<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="/manifest.json">
  <!-- <link rel="stylesheet" href="{{ site.baseurl }}/styles.css"> -->
  <style type="text/css">
   {% capture include_to_scssify %}
   {% include styles.scss %}
   {% endcapture %}
   {{ include_to_scssify | scssify }}
  </style>

  <link rel="apple-touch-icon" sizes="180x180" href="{{ site.baseurl }}/images/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="{{ site.baseurl }}/images/icons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="{{ site.baseurl }}/images/icons/favicon-16x16.png" sizes="16x16">
  <link rel="mask-icon" href="{{ site.baseurl }}/images/icons/safari-pinned-tab.svg" color="#191d1f">
  <meta name="theme-color" content="#ffffff">
  <link rel="shortcut icon" href="{{ site.baseurl }}/images/icons/favicon.ico">

  <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ site.baseurl }}/atom.xml">

  {% seo %}
  <meta property="og:image" content="https://rweekly.org/public/facebook.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="RWeekly - {{ page.title }}" />
  {% if page.title == "Home" %}
      <meta name="twitter:description" content="Weekly News in R Community" />
  {% else %}
      <meta name="twitter:description" content="{{ page.description }}" />
  {% endif %}
  <meta name="twitter:image" content="https://rweekly.org/public/logo.png" />

  <script>
  // external
  function add_external_links() {
    var links = document.links;
    for (var i = 0, linksLength = links.length; i < linksLength; i++) {
      if (links[i].hostname != window.location.hostname && !links[i].classList.contains("externalLink")) {
        links[i].target = '_blank';
        links[i].classList.add('externalLink');
        var newNode = document.createElement('span'); 
        newNode.className += "tooltiptext";
        newNode.innerHTML = links[i].hostname;
        links[i].appendChild(newNode);
      }
    }
  }
  setInterval(add_external_links, 1000);
  </script>

  <script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(['setCustomVariable', 1, "Night", localStorage.getItem('night'), "page"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking', true]);
    _paq.push(['enableHeartBeatTimer']);
    _paq.push(['trackAllContentImpressions']);
    (function() {
      var u="//web.rweekly.org/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <noscript><p><img src="//web.rweekly.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>

  <!--DNS Prefetch-->
  <link rel="dns-prefetch" href="//www.rstudio.com">  
  <link rel="dns-prefetch" href="//github.com">
  <link rel="dns-prefetch" href="//blog.revolutionanalytics.com">
  <link rel="dns-prefetch" href="//blog.rstudio.org">

  <script>
  function nightMode() {
      if (localStorage.getItem('night') == 'true') {
          localStorage.setItem('night', 'false');
          document.body.classList.remove('night');
          _paq.push(['trackEvent', 'set-nightmode', 'false']);
      } else {
          localStorage.setItem('night', 'true');
          document.body.classList.add('night');
          _paq.push(['trackEvent', 'set-nightmode', 'true']);
      }
  }
  if (localStorage.getItem('night') == 'true') {
     document.addEventListener( "DOMContentLoaded", function(){
        document.body.classList.add('night');
     });
  }
  </script>

</head>
